#!/bin/bash
HOME=/home/kevit
CHOOSE=$1

function setup {
mkdir -p $HOME/.useme/backup;
mkdir $HOME/.useme/public;
touch $HOME/.useme/filelist;
}

function backup {
tar cvjf $HOME/.useme/backup/archive.tar.bz2 $HOME/bin $HOME/.useme;
}


function createlocalcopy {
for i in `cat $HOME/.useme/filelist`; do 
        cp $HOME/$i $HOME/.useme/backup/$i; 
        cp $HOME/$i $HOME/.useme/public/$i;
done
}

function initconfig {
        cd $HOME/.useme/public;
        svn up;
        cp -R $HOME/.useme/public/* $HOME/
}

function svnupdate {
	cd $HOME/.useme/public
	svn up
}

function svncommit {
	cd $HOME/.useme/public
	svn ci
}

function helpme {
echo "choose functions svnupdate svncommit initconfig createlocalcopy";
}

if [ "$CHOOSE" = '--help' ]; then
                helpme
elif [ "$CHOOSE" = 'createlocalcopy' ]; then
createlocalcopy
elif [ "$CHOOSE" = 'initconfig' ]; then
initconfig
elif [ "$CHOOSE" = 'svnupdate' ]; then
svnupdate
elif [ "$CHOOSE" = 'svncommit' ]; then
svncommit
elif [ "$CHOOSE" = 'backup' ]; then
backup        
else 
echo "choose functions: svnupdate svncommit initconfig createlocalcopy backup";
fi

